angular.module("casino-lights",[]),angular.module("casino-lights").directive("casinoLights",["$timeout","$q","$filter","casino.font-service",function(y,x,t,n){function o(x,o,i,e,r){function a(){t(x.config.filter)(x.word,u++),c()}function c(){x.config.power&&(x.animatePromise=y(a,x.config.speed))}function l(){u=0,y.cancel(x.animatePromise),angular.forEach(x.word,function(y){angular.forEach(y.lights,function(y){y.power=!1},this)})}var u=0;x.config=angular.extend({speed:100,filter:"random",power:!0,letters:r().text(),font:window.getComputedStyle(o[0]).getPropertyValue("font-family").split(",")[0].replace(/"/g,"").toLowerCase()},x.config),x.word=[],n.fetch(x.config,function(y){return angular.forEach(x.config.letters,function(t){x.word.push({"char":t,lights:angular.copy(y[t])})})}),x.$watch("config.filter",function(){x.animatePromise&&l(),c()}),x.$watch("config.power",function(y,x){y&&!x?c():!y&&x&&l()}),o.on("$destroy",function(){y.cancel(x.animatePromise)})}function i(){return['<span ng-repeat="letter in word track by $index" data-content="{{letter.char}}">',"{{letter.char}}",'<i ng-repeat="light in letter.lights" class="light" ng-class="{on:light.power}"',"    ng-style=\"{'left':light.x + '%', 'bottom':light.y + '%'}\">","</i>","</span>"].join("")}return{restrict:"A",scope:{text:"@",config:"=?"},link:o,transclude:!0,template:i}}]),angular.module("casino-lights").service("casino.font-service",["$q","$injector",function(y,x){this.fetch=function(y,t){try{return t(x.get("casino."+y.font))}catch(n){throw"Font data not found for font:"+y.font+",\nPlease check data file exists: http://github.com/thatguynamedandy/angular-casino-lights"}}}]),angular.module("casino-lights").config(["$filterProvider","$provide",function(y,x){var t=y.register,n=[];y.register=function(y,x){n.push(y),t(y,x)},x.value("filters",n)}]),angular.module("casino-lights").filter("letter",function(){return function(y,x){var t=8,n=Math.floor(x%(y.length*t)/t),o=y[n],i=n>0?y[n-1]:y[y.length-1];angular.forEach(o.lights,function(y){y.power=!0},this),angular.forEach(i.lights,function(y){y.power=!1},this)}}),angular.module("casino-lights").filter("random",function(){return function(y,x){x%8===0&&angular.forEach(y,function(y){angular.forEach(y.lights,function(y){y.power=Math.random()>.5?!0:!1},this)},this)}}),angular.module("casino-lights").filter("vertical",function(){return function(y,x){var t=100,n=3,o=x%t,i=Math.round(o/t)?!1:!0,e=o*n,r=t+(50-o)*n;angular.forEach(y,function(y){angular.forEach(y.lights,function(y){i&&y.y<e&&(y.power=!0),!i&&y.y>r&&(y.power=!1)},this)},this)}}),angular.module("casino-lights").factory("casino.raleway",function(){return{A:[{y:32,x:50},{y:32,x:24},{y:32,x:76},{y:52,x:31},{y:52,x:69},{y:12,x:16},{y:12,x:84},{y:71,x:38},{y:71,x:62},{y:90,x:50}],B:[{y:9,x:20},{y:29,x:20},{y:52,x:20},{y:71,x:20},{y:92,x:20},{y:9,x:40},{y:9,x:60},{y:15,x:80},{y:35,x:83},{y:92,x:40},{y:92,x:60},{y:85,x:80},{y:65,x:78},{y:52,x:40},{y:52,x:60}],C:[{y:50,x:16},{y:9,x:55},{y:93,x:55},{y:30,x:20},{y:16,x:33},{y:16,x:78},{y:84,x:78},{y:70,x:20},{y:86,x:33}],D:[{y:9,x:20},{y:29,x:20},{y:52,x:20},{y:71,x:20},{y:92,x:20},{y:9,x:40},{y:10,x:60},{y:22,x:76},{y:92,x:40},{y:90,x:60},{y:78,x:76},{y:40,x:85},{y:60,x:85}],E:[{y:9,x:23},{y:29,x:23},{y:52,x:23},{y:71,x:23},{y:92,x:23},{y:9,x:43},{y:9,x:63},{y:9,x:82},{y:92,x:43},{y:92,x:63},{y:92,x:82},{y:52,x:47},{y:52,x:69}],F:[{y:9,x:24},{y:29,x:24},{y:51,x:24},{y:71,x:24},{y:92,x:24},{y:92,x:43},{y:92,x:63},{y:92,x:82},{y:51,x:47},{y:51,x:69}],G:[{y:50,x:15},{y:9,x:54},{y:93,x:54},{y:30,x:19},{y:16,x:32},{y:84,x:77},{y:72,x:16},{y:86,x:32},{y:16,x:72},{y:9,x:86},{y:28,x:86},{y:46,x:86},{y:46,x:68}],H:[{y:9,x:19},{y:30,x:19},{y:52,x:19},{y:72,x:19},{y:92,x:19},{y:9,x:81},{y:30,x:81},{y:52,x:81},{y:72,x:81},{y:92,x:81},{y:52,x:39},{y:52,x:59}],I:[{y:9,x:50},{y:30,x:50},{y:50,x:50},{y:70,x:50},{y:90,x:50}],J:[{y:12,x:56},{y:9,x:24},{y:30,x:72},{y:50,x:72},{y:70,x:72},{y:90,x:72}],K:[{y:9,x:20},{y:30,x:20},{y:50,x:20},{y:70,x:20},{y:90,x:20},{y:55,x:47},{y:73,x:63},{y:90,x:78},{y:39,x:62},{y:23,x:74},{y:9,x:85}],L:[{y:9,x:24},{y:29,x:24},{y:52,x:24},{y:71,x:24},{y:92,x:24},{y:9,x:43},{y:9,x:63},{y:9,x:82}],M:[{y:9,x:17},{y:29,x:17},{y:52,x:17},{y:71,x:17},{y:92,x:17},{y:71,x:30},{y:51,x:39},{y:71,x:69},{y:51,x:61},{y:31,x:50},{y:9,x:83},{y:29,x:83},{y:52,x:83},{y:71,x:83},{y:92,x:83}],N:[{y:9,x:18},{y:30,x:18},{y:50,x:18},{y:70,x:18},{y:90,x:18},{y:30,x:65},{y:50,x:50},{y:70,x:36},{y:9,x:82},{y:30,x:82},{y:50,x:82},{y:70,x:82},{y:90,x:82}],O:[{y:9,x:50},{y:14,x:31},{y:30,x:18},{y:50,x:14},{y:70,x:18},{y:86,x:30},{y:92,x:50},{y:14,x:69},{y:30,x:82},{y:50,x:86},{y:70,x:82},{y:86,x:70}],P:[{y:9,x:22},{y:29,x:22},{y:52,x:22},{y:71,x:22},{y:92,x:22},{y:92,x:42},{y:92,x:62},{y:85,x:79},{y:68,x:84},{y:51,x:79},{y:43,x:62},{y:43,x:42}],Q:[{y:9,x:50},{y:14,x:31},{y:30,x:18},{y:50,x:14},{y:70,x:18},{y:86,x:30},{y:92,x:50},{y:14,x:69},{y:30,x:82},{y:50,x:86},{y:70,x:82},{y:86,x:70},{y:9,x:82},{y:30,x:63}],R:[{y:9,x:22},{y:29,x:22},{y:52,x:22},{y:71,x:22},{y:92,x:22},{y:92,x:41},{y:92,x:60},{y:85,x:76},{y:68,x:81},{y:51,x:76},{y:43,x:60},{y:43,x:41},{y:25,x:69},{y:9,x:80}],S:[{y:13,x:23},{y:7,x:50},{y:50,x:50},{y:93,x:50},{y:88,x:74},{y:84,x:23},{y:60,x:24},{y:16,x:77},{y:40,x:78}],T:[{y:9,x:50},{y:30,x:50},{y:50,x:50},{y:70,x:50},{y:92,x:50},{y:92,x:31},{y:92,x:12},{y:92,x:69},{y:92,x:88}],U:[{y:14,x:30},{y:31,x:20},{y:52,x:18},{y:71,x:18},{y:92,x:18},{y:14,x:70},{y:31,x:81},{y:52,x:83},{y:71,x:83},{y:92,x:83},{y:9,x:50}],V:[{y:92,x:15},{y:72,x:23},{y:92,x:86},{y:72,x:78},{y:52,x:31},{y:52,x:69},{y:32,x:38},{y:32,x:62},{y:9,x:50}],W:[{y:92,x:9},{y:72,x:15},{y:92,x:61},{y:72,x:57},{y:52,x:20},{y:52,x:50},{y:32,x:24},{y:32,x:41},{y:9,x:33},{y:92,x:39},{y:72,x:44},{y:92,x:91},{y:72,x:85},{y:52,x:80},{y:32,x:59},{y:32,x:75},{y:9,x:67}],X:[{y:92,x:17},{y:72,x:32},{y:92,x:84},{y:72,x:68},{y:9,x:17},{y:29,x:32},{y:29,x:68},{y:9,x:84},{y:50,x:50}],Y:[{y:9,x:50},{y:29,x:50},{y:49,x:40},{y:49,x:60},{y:72,x:28},{y:72,x:72},{y:92,x:18},{y:92,x:84}],Z:[{y:92,x:16},{y:92,x:37},{y:92,x:58},{y:92,x:79},{y:31,x:32},{y:50,x:49},{y:69,x:68},{y:9,x:16},{y:9,x:37},{y:9,x:58},{y:9,x:79}]}});